@using PagedList.Mvc;
@model PagedList.PagedList<QLBanhang.Models.hoadon>
@{
    ViewBag.Title = "Donhang";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}
<div class="breadcomb-area">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="breadcomb-list">
                    <div class="row">
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                            <div class="breadcomb-wp">
                                <div class="breadcomb-icon">
                                    <i class="notika-icon notika-windows"></i>
                                </div>
                                <div class="breadcomb-ctn">
                                    <h2>ĐƠN HÀNG</h2>
                                    <p>Chào mừng đền với sản phẩm <span class="bread-ntd">Natruliss</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-3">
                            <div class="breadcomb-report">
                                <button data-toggle="tooltip" data-placement="left" title="Download Report" class="btn"><i class="notika-icon notika-sent"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="data-table-area">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="data-table-list">
                    <div class="basic-tb-hd">
                        <h2>Xem đơn hàng</h2>
                        <p>Yêu cầu các quản trị viên bảo mật thông tin cá nhân riêng tư của khách hàng.</p>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th> Mã đơn đặt hàng</th>
                                    <th> Khách hàng</th>
                                    <th> Mã mặt hàng</th>
                                    <th> Tên mặt hàng</th>
                                    <th> Đơn giá</th>
                                    <th> Dung Tích</th>
                                    <th> Số lượng</th>
                                    <th> Tổng tiền</th>
                                    <th> Tình trạng thanh toán</th>
                                    <th> Trình trạng giao hàng</th>
                                    <th> Ngày đăt</th>
                                    <th> Ngày giao</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model)
                                {
                                    var a = @item.Dongia * @item.Soluong;
                                    <tr>

                                        <td>
                                            @Html.DisplayFor(modelItem => item.MaDDH)
                                        </td>
                                        @if (item.MaKH == 1)
                                        {
                                        <td>
                                            <h6 style="background-color:aqua">@Html.DisplayFor(modelItem => item.TenNgDat)</h6>
                                            <p style="background-color:chartreuse">@Html.DisplayFor(modelItem => item.SDT)</p>
                                            <p style="background-color:gold">@Html.DisplayFor(modelItem => item.DiaChiGiao)</p>
                                        </td>
                                        }
                                        else
                                        {
                                            <td>
                                                <h6 style="background-color:aqua">@Html.DisplayFor(modelItem => item.HoTen)</h6>
                                                <p style="background-color:chartreuse"> @Html.DisplayFor(modelItem => item.DienthoaiKH)</p> 
                                                <p style="background-color:gold"> @Html.DisplayFor(modelItem => item.DiachiKH)</p>
                                            </td>
                                        }
                                        <td>
                                            @Html.DisplayFor(modelItem => item.MaMH)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.TenMH)
                                        </td>
                                        <td>
                                            @String.Format("{0:0,0}", item.Dongia)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Dungtich)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Soluong)
                                        </td>
                                        <td>
                                            @String.Format("{0:0,0}", a)
                                        </td>
                                        <td>
                                            @if (item.Dathanhtoan == true)
                                            {
                                                <p>Đã thanh toán</p>
                                            }
                                            else
                                            {
                                                <p>Chưa thanh toán</p>
                                            }
                                        </td>
                                        <td>
                                            @if (item.Tinhtranggiaohang == true)
                                            {
                                                <p>Đã giao hàng</p>
                                            }
                                            else
                                            {
                                                <p>Chưa giao hàng</p>
                                            }
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Ngaydat)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Ngaygiao)
                                        </td>

                                        <td>
                                            <a class="btn-primary btn-md btn-block btn notika-add-todo waves-effect" type="submit" href="@Url.Action("sua_don_hang","Admin",new { id = item.MaDDH })">Cập nhật</a>

                                            <a class="btn-primary btn-md btn-block btn notika-add-todo waves-effect" type="submit" href="@Url.Action("XoaDH","Admin",new { id = item.MaDDH })">Xóa</a>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th> Mã đơn đặt hàng</th>
                                    <th> Khách hàng</th>
                                    <th> Mã mặt hàng</th>
                                    <th> Tên mặt hàng</th>
                                    <th> Đơn giá</th>
                                    <th> Dung Tích</th>
                                    <th> Số lượng</th>
                                    <th> Tổng tiền</th>
                                    <th> Tình trạng thanh toán</th>
                                    <th> Trình trạng giao hàng</th>
                                    <th> Ngày đăt</th>
                                    <th> Ngày giao</th>
                                </tr>
                                @Html.PagedListPager(Model, page => Url.Action("Donhang", new { page = page }))
                            </tfoot>
                        </table>
                        <div class="col-md-4 col-sm-4 items-info"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trang @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)/@Model.PageCount</font></font></div>
                        <div class="col-md-8 col-sm-8">
                            <ul class="pull-right">
                                <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> @Html.PagedListPager(Model, page => Url.Action("Donhang", new { page = page }))</font></font></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
